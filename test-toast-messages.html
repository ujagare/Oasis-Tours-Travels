<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Toast Messages Test - Oasis Travel</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      /* Navbar with high z-index to test toast visibility */
      .test-navbar {
        z-index: 9999 !important;
      }
    </style>
  </head>
  <body class="bg-gray-100">
    <!-- Test Navbar (Same z-index as real navbar) -->
    <nav
      class="test-navbar fixed top-0 left-0 right-0 bg-black bg-opacity-50 backdrop-blur-sm shadow-lg"
    >
      <div class="w-full mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex justify-between items-center h-20">
          <div class="flex items-center">
            <h1 class="text-white text-xl font-bold">
              Oasis Travel - Toast Test
            </h1>
          </div>
          <div class="text-white">
            <span>Navbar z-index: 9999</span>
          </div>
        </div>
      </div>
    </nav>

    <!-- Main Content -->
    <div class="pt-24 p-8">
      <div class="max-w-4xl mx-auto">
        <h1 class="text-3xl font-bold text-gray-900 mb-8">
          Toast Messages Z-Index Test
        </h1>

        <div class="bg-white rounded-lg shadow-lg p-6 mb-8">
          <h2 class="text-xl font-semibold mb-4">Test Toast Messages</h2>
          <p class="text-gray-600 mb-6">
            Click the buttons below to test if toast messages appear above the
            navbar (z-index: 9999)
          </p>

          <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
            <button
              onclick="showSuccessToast()"
              class="bg-green-500 text-white px-4 py-2 rounded-lg hover:bg-green-600 transition-colors"
            >
              Success Toast
            </button>
            <button
              onclick="showErrorToast()"
              class="bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600 transition-colors"
            >
              Error Toast
            </button>
            <button
              onclick="showWarningToast()"
              class="bg-yellow-500 text-white px-4 py-2 rounded-lg hover:bg-yellow-600 transition-colors"
            >
              Warning Toast
            </button>
            <button
              onclick="showInfoToast()"
              class="bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-colors"
            >
              Info Toast
            </button>
          </div>
        </div>

        <div class="bg-white rounded-lg shadow-lg p-6 mb-8">
          <h2 class="text-xl font-semibold mb-4">Test Payment Integration</h2>
          <p class="text-gray-600 mb-6">Test payment-related toast messages</p>

          <div class="grid grid-cols-2 gap-4">
            <button
              onclick="testPaymentSuccess()"
              class="bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors"
            >
              Payment Success
            </button>
            <button
              onclick="testPaymentError()"
              class="bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition-colors"
            >
              Payment Error
            </button>
          </div>
        </div>

        <div class="bg-white rounded-lg shadow-lg p-6">
          <h2 class="text-xl font-semibold mb-4">Test Contact Integration</h2>
          <p class="text-gray-600 mb-6">Test contact form toast messages</p>

          <div class="grid grid-cols-2 gap-4">
            <button
              onclick="testContactSuccess()"
              class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors"
            >
              Contact Success
            </button>
            <button
              onclick="testContactError()"
              class="bg-orange-600 text-white px-4 py-2 rounded-lg hover:bg-orange-700 transition-colors"
            >
              Contact Error
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Load Integration Scripts -->
    <script src="payment-integration.js"></script>
    <script src="contact-integration.js"></script>

    <script>
      // Test Functions
      function showSuccessToast() {
        showToast(
          "‚úÖ Success! This toast should appear above the navbar",
          "success"
        );
      }

      function showErrorToast() {
        showToast(
          "‚ùå Error! This toast should appear above the navbar",
          "error"
        );
      }

      function showWarningToast() {
        showToast(
          "‚ö†Ô∏è Warning! This toast should appear above the navbar",
          "warning"
        );
      }

      function showInfoToast() {
        showToast("‚ÑπÔ∏è Info! This toast should appear above the navbar", "info");
      }

      function testPaymentSuccess() {
        if (window.paymentGateway) {
          window.paymentGateway.showPaymentMessage(
            "üí≥ Payment successful! Toast z-index: 10000",
            "success"
          );
        } else {
          showToast("Payment integration not loaded", "error");
        }
      }

      function testPaymentError() {
        if (window.paymentGateway) {
          window.paymentGateway.showPaymentMessage(
            "üí≥ Payment failed! Toast z-index: 10000",
            "error"
          );
        } else {
          showToast("Payment integration not loaded", "error");
        }
      }

      function testContactSuccess() {
        if (window.contactFormHandler) {
          window.contactFormHandler.showContactMessage(
            "üìß Contact form submitted! Toast z-index: 10000",
            "success"
          );
        } else {
          showToast("Contact integration not loaded", "error");
        }
      }

      function testContactError() {
        if (window.contactFormHandler) {
          window.contactFormHandler.showContactMessage(
            "üìß Contact form error! Toast z-index: 10000",
            "error"
          );
        } else {
          showToast("Contact integration not loaded", "error");
        }
      }

      // Generic toast function
      function showToast(message, type = "info") {
        const colors = {
          success: "bg-green-100 text-green-800 border-green-200",
          error: "bg-red-100 text-red-800 border-red-200",
          warning: "bg-yellow-100 text-yellow-800 border-yellow-200",
          info: "bg-blue-100 text-blue-800 border-blue-200",
        };

        const alert = document.createElement("div");
        alert.className = `fixed top-4 right-4 ${colors[type]} border rounded-lg p-4 max-w-sm shadow-lg`;
        alert.style.zIndex = "10000"; // Higher than navbar (9999)

        alert.innerHTML = `
                <div class="flex items-center">
                    <span class="flex-1">${message}</span>
                    <button onclick="this.parentElement.parentElement.remove()" class="ml-4 text-lg font-bold hover:opacity-70">&times;</button>
                </div>
            `;

        document.body.appendChild(alert);

        // Auto remove after 5 seconds
        setTimeout(() => {
          if (alert.parentElement) {
            alert.remove();
          }
        }, 5000);
      }

      // Show initial test message
      document.addEventListener("DOMContentLoaded", function () {
        setTimeout(() => {
          showToast(
            "üß™ Toast test page loaded! All toasts should appear above navbar",
            "info"
          );
        }, 1000);
      });
    </script>
  </body>
</html>
